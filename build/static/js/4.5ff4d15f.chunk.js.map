{"version":3,"sources":["components/common/Pagination/Paginator.module.css","components/Users/Users.module.css","components/common/Pagination/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","Paginator","totalItemsCount","pageSize","currentPage","onPageChanges","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","classes","paginationBlock","onClick","filter","p","map","index","key","selectedPage","paginationBlockItem","e","User","user","followingInProgress","unfollow","follow","users_block","single_user","left_part","user_photo","to","id","src","photos","small","userPhoto","alt","follow_btn","followed","disabled","some","right_part","user_info","name","status","user_location","user_city","user_country","Users","users","totalUsersCount","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","getIsAuth","auth","isAuth","UsersContainer","pageNumber","props","this","Preloader","toggleFollowingProgress","React","Component","compose","connect","setCurrentPage","requestUsers","withAuthRedirect"],"mappings":"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","file":"static/js/4.5ff4d15f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationBlock\":\"Paginator_paginationBlock__3ufxS\",\"paginationBlockItem\":\"Paginator_paginationBlockItem__13rFD\",\"selectedPage\":\"Paginator_selectedPage__1r4K9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users_block\":\"Users_users_block___tvds\",\"single_user\":\"Users_single_user__1W3zs\",\"left_part\":\"Users_left_part__332nQ\",\"user_photo\":\"Users_user_photo__1Gp1X\",\"follow_btn\":\"Users_follow_btn__1c6g_\",\"right_part\":\"Users_right_part__1hynM\",\"user_info\":\"Users_user_info__1gXTo\",\"user_location\":\"Users_user_location__KFtZV\",\"user_city\":\"Users_user_city__22Hkc\",\"user_country\":\"Users_user_country__24ahh\"};","import React, {useState} from \"react\";\r\nimport classes from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanges, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={classes.paginationBlock}>\r\n\r\n        {portionSize > 1 &&\r\n        <i className=\"fas fa-arrow-left\" onClick={() => { setPortionNumber(portionNumber - 1) }}></i>\r\n        }\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p, index) => {\r\n                return <div key={index} className={currentPage === p\r\n                ? `${classes.selectedPage} ${classes.paginationBlockItem}`\r\n                : classes.paginationBlockItem}\r\n                onClick={(e) => {\r\n                onPageChanges(p);\r\n            }}\r\n                >\r\n                {p}\r\n                </div>\r\n            })\r\n        }\r\n\r\n        { portionCount > portionNumber &&\r\n        <i className=\"fas fa-arrow-right\" onClick={() => { setPortionNumber(portionNumber + 1) }}></i>\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport classes from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/img/logo.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n\r\n    return <div className={classes.users_block}>\r\n                    <div className={classes.single_user}>\r\n                        <div className={classes.left_part}>\r\n                            <div className={classes.user_photo}>\r\n                                <NavLink to={'/profile/' + user.id}>\r\n                                    <img src={ user.photos.small != null ? user.photos.small : userPhoto } alt=\"Foto\" />\r\n                                </NavLink>\r\n                            </div>\r\n                            <div className={classes.follow_btn}>\r\n                                { user.followed\r\n                                    ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                              onClick={ () => { unfollow(user.id);\r\n                                    } }>Unfollow</button>\r\n                                    : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                              onClick={ () => { follow(user.id);\r\n                                    } }>Follow</button> }\r\n                            </div>\r\n                        </div>\r\n                        <div className={classes.right_part}>\r\n                            <div className={classes.user_info}>\r\n                                <h3>{user.name}</h3>\r\n                                <p>{user.status}</p>\r\n                            </div>\r\n                            <div className={classes.user_location}>\r\n                                <p className={classes.user_city}>{\"user.userLocation.city\"}</p>\r\n                                <p className={classes.user_country}>{\"user.userLocation.country\"}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../common/Pagination/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({\r\n    users, totalUsersCount, pageSize,\r\n    currentPage, onPageChanges, followingInProgress,\r\n    unfollow, follow }) => {\r\n\r\n    return <div>\r\n        {\r\n            users.map((user, index) => <User\r\n                key={index}\r\n                user={user}\r\n                followingInProgress={followingInProgress}\r\n                unfollow={unfollow}\r\n                follow={follow}\r\n            />)\r\n        }\r\n\r\n        <Paginator\r\n            totalItemsCount={totalUsersCount}\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            onPageChanges={onPageChanges}\r\n        />\r\n    </div>\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\nexport const getIsAuth = (state) => {\r\n    return state.auth.isAuth;\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from \"../../redux/users_reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsAuth,\r\n    getIsFetching, getPageSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanges = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            { this.props.isFetching ? <Preloader /> : null }\r\n            <Users totalUsersCount={ this.props.totalUsersCount }\r\n                pageSize={ this.props.pageSize }\r\n                currentPage={ this.props.currentPage }\r\n                onPageChanges={ this.onPageChanges }\r\n                users={ this.props.users }\r\n                unfollow={ this.props.unfollow }\r\n                follow={ this.props.follow }\r\n                toggleFollowingProgress={ this.props.toggleFollowingProgress }\r\n                followingInProgress={ this.props.followingInProgress }\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getIsAuth(state)\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            follow,\r\n            unfollow,\r\n            setCurrentPage,\r\n            toggleFollowingProgress,\r\n            getUsers: requestUsers\r\n        }),\r\n    withAuthRedirect\r\n)(UsersContainer);"],"sourceRoot":""}